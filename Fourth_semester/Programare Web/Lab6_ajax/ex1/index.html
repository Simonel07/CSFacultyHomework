<!DOCTYPE html>
<html>
<head>
	<title>AJAX Example</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script>
		$(document).ready(function() {
			// define the function to get the list of destinations
			function getDestinations() {
				// get the selected departure city
				var selectedDeparture = $('#departure').val();
				// make the AJAX call to the server
				$.ajax({
					type: "GET",
					url: "getDestinations.php",
					data: { departure: selectedDeparture },
					dataType: "xml",
					success: function(xml) {
						// clear the current list of destinations
						$('#arrival').empty();
						// iterate over the XML data and add each destination to the list
						$(xml).find('destination').each(function() {
							var destination = $(this).text();
							$('#arrival').append('<option>' + destination + '</option>');
						});
					},
					error: function() {
						alert('Error getting destinations');
					}
				});
			}
			
			// attach the getDestinations function to the change event of the departure list
			$('#departure').change(function() {
				getDestinations();
			});
		});
	</script>
</head>
<body>
	<h1>Train Schedule</h1>
	<label for="departure">Departure:</label>
	<select id="departure">
		<option value="Oras1">Oras1</option>
		<option value="Oras2">Oras2</option>
		<option value="Oras6">Oras6</option>
	</select>
	<br><br>
	<label for="arrival">Arrival:</label>
	<select id="arrival">
		<option>Select a departure city first</option>
	</select>
</body>
</html>
